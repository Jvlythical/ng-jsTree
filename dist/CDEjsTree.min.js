/*! CDEjsTree 27-06-2015 */
"use strict";var CDEjsTree=angular.module("CDEjsTree",[]);CDEjsTree.constant("jsTreeConstants",{ROOT_NODE:".jstree-container-ul",OPEN_NODE:".jstree-open",CLOSE_NODE:".jstree-closed",HOVER_STYLE:"rgb(244,244,244)"}),CDEjsTree.directive("fileTree",["$rootScope","$parse","CDEjsTreeEvents",function(a,b,c){return{restrict:"E",link:function(a,d,e){var f=$("#"+e.target);c.init({Scope:a,$target:f}),a.$on("jstree.new-data",c.makeTree),a.$on("jstree.ready",c.wrapTree),b(e.init)(a)()}}}]),CDEjsTree.factory("CDEjsTreeEvents",["jsTreeConstants",function(a){var b=!0,c=!1,d=void 0,e={init:!1,tree:!1},f=void 0,g=void 0,h=function(a){return"object"!=typeof a?c:(d=void 0===a.Scope?{}:a.Scope,g=a.$target,e.init=!0,b)},i=function(a,b){return $.jstree.defaults.core.theme="proton",f=g.jstree({core:{themes:{dots:!1},data:b}}),f.on("ready.jstree",function(){e.tree=!0,d.$emit("jstree.ready")}),f},j=function(){if(!e.tree)return c;f.on("open_node.jstree",function(a,b){d.$emit("jstree.node-opened",b)}).on("close_node.jstree",function(a,b){d.$emit("jstree.node-closed",b)}).on("select_node.jstree",function(a,b){d.$emit("jstree.node-selected",b)}).on("hover_node.jstree",function(b,c){var e=$(a.ROOT_NODE).find("li#"+c.node.id);e.css("background",a.HOVER_STYLE),d.$emit("jstree.node-hovered",c)}).on("dehover_node.jstree",function(b,c){var e=$(a.ROOT_NODE).find("li#"+c.node.id);e.css("background",""),d.$emit("jstree.node-dehovered",c)})};return{init:h,makeTree:i,wrapTree:j}}]);